import{Q as C}from"./QImg.dd1a29d9.js";import{Q}from"./QItemSection.d5457e67.js";import{j as u,Q as c,R as g}from"./QBtn.49bdb1d9.js";import{Q as v,a as k}from"./QList.91b7aa97.js";import{Q as _}from"./QPage.dba0cbbe.js";import{O as $,Q as T,R as s,S as d,T as o,U as a,a2 as y,a3 as b,a4 as w,W as l,X as n,V as i,J as p,Y as f}from"./index.01f71d32.js";import"./use-dark.b8dd9074.js";const B=T({name:"CartPage",props:["me","uid","email","photoURL","isLogout","token","isInApp","items"],setup(){return{}},methods:{countTotal(){var e=0;if(!this.uid||!this.me)return 0;for(let t=0;t<(this.me.cart||[]).length;t++)this.inCart(this.me.cart[t])&&(e+=this.me.cart[t].price);return e},inCart(e){if(this.uid){var t=(this.me.cart||[]).filter(function(m){return m.name===e.name});return t.length>0}else return!1},addToCart(e){this.$emit("addToCart",e)},removeFromCart(e){this.$emit("removeFromCart",e)},buy(){this.$router.push("/checkout")}}}),F=l("br",null,null,-1),N=l("br",null,null,-1);function D(e,t,m,I,R,L){return s(),d(_,null,{default:o(()=>[a(v,{bordered:"",separator:""},{default:o(()=>[(s(!0),y(w,null,b(e.items,(r,h)=>p((s(),d(k,{clickable:"",class:"my-card",key:h},{default:o(()=>[a(Q,null,{default:o(()=>[a(C,{src:r.img,style:{"max-height":"300px","max-width":"400px"}},null,8,["src"]),i(" "+n(r.name)+"($NT"+n(r.price)+")",1)]),_:2},1024),p(a(c,{color:"red-4",onClick:S=>e.removeFromCart(r)},{default:o(()=>[a(u,{name:"delete"}),i(" Remove ")]),_:2},1032,["onClick"]),[[f,e.inCart(r)]])]),_:2},1024)),[[g],[f,e.inCart(r)]])),128))]),_:1}),F,l("div",null,"\u7E3D\u91D1\u984D\uFF1A$NT"+n(e.countTotal()),1),N,a(c,{class:"full-width",onClick:t[0]||(t[0]=r=>e.buy())},{default:o(()=>[a(u,{name:"shopping_cart"}),i(" Buy Now ")]),_:1})]),_:1})}var J=$(B,[["render",D]]);export{J as default};
