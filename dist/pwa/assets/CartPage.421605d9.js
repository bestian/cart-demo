import{Q as C}from"./QImg.055ce41a.js";import{Q}from"./QItemSection.5470b7fb.js";import{j as u,Q as c,R as v}from"./QBtn.fbf56281.js";import{Q as g,a as k}from"./QList.a2a3e7ed.js";import{Q as _}from"./QPage.1e7e13eb.js";import{O as $,Q as T,R as o,S as d,T as s,U as a,a2 as b,a3 as y,a4 as B,W as l,X as n,V as i,J as p,Y as f}from"./index.d845e84f.js";import"./use-dark.f605b8d3.js";const F=T({name:"CartPage",props:["me","uid","email","photoURL","isLogout","token","isInApp","items"],setup(){return{}},methods:{countTotal(){var e=0;if(!this.uid||!this.me)return 0;for(let t=0;t<(this.me.cart||[]).length;t++)this.inCart(this.me.cart[t])&&(e+=this.me.cart[t].price);return e},inCart(e){if(this.uid){var t=(this.me.cart||[]).filter(function(m){return m.name===e.name});return t.length>0}else return!1},addToCart(e){this.$emit("addToCart",e)},removeFromCart(e){this.$emit("removeFromCart",e)},buy(){this.$router.push("/checkout")}}}),N=l("br",null,null,-1),w=l("br",null,null,-1);function D(e,t,m,I,R,L){return o(),d(_,null,{default:s(()=>[a(g,{bordered:"",separator:""},{default:s(()=>[(o(!0),b(B,null,y(e.items,(r,h)=>p((o(),d(k,{clickable:"",class:"my-card",key:h},{default:s(()=>[a(Q,null,{default:s(()=>[a(C,{src:r.img},null,8,["src"]),i(" "+n(r.name)+"($NT"+n(r.price)+")",1)]),_:2},1024),p(a(c,{onClick:S=>e.removeFromCart(r)},{default:s(()=>[a(u,{name:"delete"}),i(" Remove ")]),_:2},1032,["onClick"]),[[f,e.inCart(r)]])]),_:2},1024)),[[v],[f,e.inCart(r)]])),128))]),_:1}),N,l("div",null," \u7E3D\u91D1\u984D\uFF1A$NT"+n(e.countTotal()),1),w,a(c,{class:"full-width",onClick:t[0]||(t[0]=r=>e.buy())},{default:s(()=>[a(u,{name:"shopping_cart"}),i(" Buy Now ")]),_:1})]),_:1})}var O=$(F,[["render",D]]);export{O as default};
