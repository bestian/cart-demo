import{Q as C}from"./QImg.8e1fffa1.js";import{Q}from"./QItemSection.7acaaa7e.js";import{j as u,Q as p,R as g}from"./QBtn.d3362683.js";import{Q as v,a as k}from"./QList.76a78e4d.js";import{Q as $}from"./QPage.5b8313c5.js";import{O as T,Q as y,S as s,T as d,U as o,V as a,a2 as b,a3 as w,a4 as B,X as n,Y as i,W as l,J as f,Z as c}from"./index.f280569a.js";import"./use-dark.fb268374.js";const F=y({name:"CartPage",props:["me","uid","email","photoURL","isLogout","token","isInApp","items"],setup(){return{}},methods:{countTotal(){var t=0;if(!this.uid||!this.me)return 0;for(let e=0;e<(this.me.cart||[]).length;e++)this.inCart(this.me.cart[e])&&(t+=this.me.cart[e].price);return t},inCart(t){if(this.uid){var e=(this.me.cart||[]).filter(function(m){return m.name===t.name});return e.length>0}else return!1},addToCart(t){this.$emit("addToCart",t)},removeFromCart(t){this.$emit("removeFromCart",t)},buy(){this.$router.push("/checkout")}}});function N(t,e,m,D,I,_){return s(),d($,null,{default:o(()=>[a(v,{bordered:"",separator:""},{default:o(()=>[(s(!0),b(B,null,w(t.items,(r,h)=>f((s(),d(k,{clickable:"",class:"my-card",key:h},{default:o(()=>[a(Q,null,{default:o(()=>[a(C,{src:r.img,style:{"max-height":"300px","max-width":"400px"}},null,8,["src"]),l(" "+i(r.name)+"($NT"+i(r.price)+")",1)]),_:2},1024),f(a(p,{color:"red-4",onClick:L=>t.removeFromCart(r)},{default:o(()=>[a(u,{name:"delete"}),e[1]||(e[1]=l(" Remove "))]),_:2,__:[1]},1032,["onClick"]),[[c,t.inCart(r)]])]),_:2},1024)),[[g],[c,t.inCart(r)]])),128))]),_:1}),e[3]||(e[3]=n("br",null,null,-1)),n("div",null,"\u7E3D\u91D1\u984D\uFF1A$NT"+i(t.countTotal()),1),e[4]||(e[4]=n("br",null,null,-1)),a(p,{class:"full-width",onClick:e[0]||(e[0]=r=>t.buy())},{default:o(()=>[a(u,{name:"shopping_cart"}),e[2]||(e[2]=l(" Buy Now "))]),_:1,__:[2]})]),_:1,__:[3,4]})}var U=T(F,[["render",N]]);export{U as default};
