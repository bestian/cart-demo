import{Q as C}from"./QImg.0e4b41e3.js";import{Q as d}from"./QItemSection.2f9ac8dc.js";import{j as h,Q as u,R as g}from"./QBtn.aa6258a3.js";import{Q as v,a as F}from"./QList.bf3c9b7c.js";import{Q as k}from"./QPage.c2769882.js";import{O as Q,Q as $,S as l,T as p,U as n,V as a,a2 as I,a3 as y,a4 as T,X as o,Y as s,W as c,J as b,Z as A}from"./index.ea82d7c7.js";import"./use-dark.e1b36788.js";const N=$({name:"CartPage",props:["me","uid","email","photoURL","isLogout","token","isInApp","items"],setup(){return{}},methods:{countTotal(){var e=0;if(!this.uid||!this.me)return 0;for(let t=0;t<(this.me.cart||[]).length;t++)e+=this.me.cart[t].price;return e},inCart(e){if(this.uid){var t=(this.me.cart||[]).filter(function(i){return i.name===e.name});return t.length>0}else return!1},getItemCount(e){if(!this.uid||!this.me)return 0;var t=(this.me.cart||[]).filter(function(i){return i.name===e.name});return t.length},addToCart(e){this.$emit("addToCart",e)},removeFromCart(e){this.$emit("removeFromCart",e)},decreaseQuantity(e){this.getItemCount(e)>1&&this.$emit("removeAnItemFromCart",e)},buy(){this.$router.push("/checkout")}}}),w={class:"q-mt-sm"},B={class:"q-gutter-sm"};function D(e,t,i,_,L,S){return l(),p(k,null,{default:n(()=>[a(v,{bordered:"",separator:""},{default:n(()=>[(l(!0),I(T,null,y(e.items,(r,f)=>b((l(),p(F,{clickable:"",class:"my-card",key:f},{default:n(()=>[a(d,null,{default:n(()=>[a(C,{src:r.img,style:{"max-height":"300px","max-width":"400px"}},null,8,["src"]),c(" "+s(r.name)+"(\u55AE\u50F9\uFF1A$NT"+s(r.price)+") ",1),o("div",w,[o("div",null,"\u6578\u91CF\uFF1A"+s(e.getItemCount(r)),1),o("div",null,"\u5C0F\u8A08\uFF1A$NT"+s(e.getItemCount(r)*r.price),1)])]),_:2},1024),a(d,{side:""},{default:n(()=>[o("div",B,[a(u,{color:"primary",size:"sm",round:"",onClick:m=>e.addToCart(r),icon:"add"},null,8,["onClick"]),a(u,{color:"orange",size:"sm",round:"",onClick:m=>e.decreaseQuantity(r),icon:"remove",disable:e.getItemCount(r)<=1},null,8,["onClick","disable"]),a(u,{color:"red-4",size:"sm",round:"",onClick:m=>e.removeFromCart(r),icon:"delete"},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)),[[g],[A,e.inCart(r)]])),128))]),_:1}),t[2]||(t[2]=o("br",null,null,-1)),o("div",null,"\u7E3D\u91D1\u984D\uFF1A$NT"+s(e.countTotal()),1),t[3]||(t[3]=o("br",null,null,-1)),a(u,{class:"full-width",onClick:t[0]||(t[0]=r=>e.buy())},{default:n(()=>[a(h,{name:"shopping_cart"}),t[1]||(t[1]=c(" Buy Now "))]),_:1,__:[1]})]),_:1,__:[2,3]})}var j=Q(N,[["render",D]]);export{j as default};
